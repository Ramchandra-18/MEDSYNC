{
  "postman_collection": {
    "info": {
      "name": "MedSync Pharmacy Restock Alert API",
      "description": "Test pharmacy restock alert endpoint"
    },
    "item": [
      {
        "name": "Check Restock Alerts (Default)",
        "request": {
          "method": "GET",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "url": {
            "raw": "http://localhost:5000/api/pharmacy/restock-alert",
            "protocol": "http",
            "host": ["localhost"],
            "port": "5000",
            "path": ["api", "pharmacy", "restock-alert"]
          },
          "description": "Check for medicines with stock ‚â§10 units and send email alert"
        }
      },
      {
        "name": "Check Restock Alerts (Custom Threshold)",
        "request": {
          "method": "GET",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "url": {
            "raw": "http://localhost:5000/api/pharmacy/restock-alert?threshold=20&send_email=true",
            "protocol": "http",
            "host": ["localhost"],
            "port": "5000",
            "path": ["api", "pharmacy", "restock-alert"],
            "query": [
              {
                "key": "threshold",
                "value": "20",
                "description": "Stock level threshold (default: 10)"
              },
              {
                "key": "send_email",
                "value": "true",
                "description": "Whether to send email alert (default: true)"
              }
            ]
          },
          "description": "Check for medicines with stock ‚â§20 units with email notification"
        }
      },
      {
        "name": "Check Restock Alerts (No Email)",
        "request": {
          "method": "GET",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "url": {
            "raw": "http://localhost:5000/api/pharmacy/restock-alert?send_email=false",
            "protocol": "http",
            "host": ["localhost"],
            "port": "5000",
            "path": ["api", "pharmacy", "restock-alert"],
            "query": [
              {
                "key": "send_email",
                "value": "false",
                "description": "Disable email notifications"
              }
            ]
          },
          "description": "Check restock alerts without sending email (frontend display only)"
        }
      }
    ]
  },
  "sample_responses": {
    "no_alerts_response": {
      "status": 200,
      "body": {
        "message": "No medicines require restocking at this time.",
        "alert_status": "all_good",
        "threshold": 10,
        "low_stock_count": 0,
        "medicines": [],
        "email_sent": false
      }
    },
    "warning_alerts_response": {
      "status": 200,
      "body": {
        "message": "WARNING: 3 medicines are running low (‚â§10 units).",
        "alert_status": "warning",
        "threshold": 10,
        "low_stock_count": 3,
        "critical_count": 0,
        "warning_count": 3,
        "medicines": {
          "critical": [],
          "warning": [
            {
              "id": 1,
              "medicine_name": "Paracetamol 500mg",
              "quantity": 8,
              "expiry_date": "2026-12-31",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            },
            {
              "id": 2,
              "medicine_name": "Amoxicillin 250mg",
              "quantity": 6,
              "expiry_date": "2026-06-30",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            },
            {
              "id": 3,
              "medicine_name": "Lisinopril 10mg",
              "quantity": 9,
              "expiry_date": "2027-03-15",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            }
          ],
          "all": [
            {
              "id": 1,
              "medicine_name": "Paracetamol 500mg",
              "quantity": 8,
              "expiry_date": "2026-12-31",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            },
            {
              "id": 2,
              "medicine_name": "Amoxicillin 250mg",
              "quantity": 6,
              "expiry_date": "2026-06-30",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            },
            {
              "id": 3,
              "medicine_name": "Lisinopril 10mg",
              "quantity": 9,
              "expiry_date": "2027-03-15",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            }
          ]
        },
        "email_sent": true,
        "email_error": null,
        "recommendations": [
          "Review and update stock levels for 3 medicines",
          "Set up automatic reorder points to prevent future shortages"
        ]
      }
    },
    "critical_alerts_response": {
      "status": 206,
      "body": {
        "message": "CRITICAL: 2 medicines are critically low (‚â§5 units). 1 medicines are running low.",
        "alert_status": "critical",
        "threshold": 10,
        "low_stock_count": 3,
        "critical_count": 2,
        "warning_count": 1,
        "medicines": {
          "critical": [
            {
              "id": 1,
              "medicine_name": "Insulin Rapid",
              "quantity": 2,
              "expiry_date": "2026-08-15",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            },
            {
              "id": 2,
              "medicine_name": "Epinephrine Auto-Injector",
              "quantity": 1,
              "expiry_date": "2026-05-20",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            }
          ],
          "warning": [
            {
              "id": 3,
              "medicine_name": "Amoxicillin 250mg",
              "quantity": 7,
              "expiry_date": "2026-06-30",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            }
          ],
          "all": [
            {
              "id": 1,
              "medicine_name": "Insulin Rapid",
              "quantity": 2,
              "expiry_date": "2026-08-15",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            },
            {
              "id": 2,
              "medicine_name": "Epinephrine Auto-Injector",
              "quantity": 1,
              "expiry_date": "2026-05-20",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            },
            {
              "id": 3,
              "medicine_name": "Amoxicillin 250mg",
              "quantity": 7,
              "expiry_date": "2026-06-30",
              "created_at": "2025-10-31T10:00:00.000Z",
              "updated_at": "2025-10-31T10:00:00.000Z"
            }
          ]
        },
        "email_sent": true,
        "email_error": null,
        "recommendations": [
          "URGENT: Order 2 critical medicines immediately",
          "Review and update stock levels for 3 medicines",
          "Set up automatic reorder points to prevent future shortages"
        ]
      }
    }
  },
  "react_component_integration": {
    "description": "Sample integration for React components with different alert displays",
    "fetch_restock_alerts": {
      "url": "http://localhost:5000/api/pharmacy/restock-alert",
      "method": "GET",
      "query_params": {
        "threshold": 10,
        "send_email": true
      }
    },
    "alert_display_logic": {
      "all_good": {
        "color": "green",
        "icon": "‚úÖ",
        "message": "All medicines are adequately stocked"
      },
      "warning": {
        "color": "orange", 
        "icon": "‚ö†Ô∏è",
        "message": "Some medicines are running low",
        "action": "Review inventory and place orders"
      },
      "critical": {
        "color": "red",
        "icon": "üö®", 
        "message": "Critical stock levels detected!",
        "action": "URGENT: Order medicines immediately"
      }
    }
  },
  "email_features": {
    "recipient": "work.medsync@gmail.com",
    "email_types": {
      "critical_alert": {
        "subject": "üö® CRITICAL ALERT - Pharmacy Restock Required",
        "priority": "High",
        "trigger": "Any medicine ‚â§5 units"
      },
      "warning_alert": {
        "subject": "‚ö†Ô∏è LOW STOCK WARNING - Pharmacy Restock Required", 
        "priority": "Normal",
        "trigger": "Medicines ‚â§10 units (no critical)"
      }
    },
    "email_content": [
      "Alert summary with counts",
      "Critical stock list (‚â§5 units)",
      "Low stock list (6-threshold units)",
      "Intelligent restock recommendations",
      "Immediate action items",
      "System information and contacts"
    ]
  },
  "automation_suggestions": {
    "cron_schedule": "Run every 6 hours: 0 */6 * * *",
    "webhook_integration": "POST alerts to pharmacy management dashboard",
    "notification_channels": [
      "Email to work.medsync@gmail.com",
      "Frontend dashboard alerts",
      "Mobile push notifications (future)",
      "SMS alerts for critical stock (future)"
    ]
  }
}